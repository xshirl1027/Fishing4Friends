<section data-ng-controller="ThreadsController" data-ng-init="findOne()">
    <div class="page-header">
	<h3>topic</h3>
    </div>
<link rel="stylesheet" href="modules\threads\css\thread.css">
	<div class="panel panel-default">
		<div class="panel-heading">{{thread.name}}</div>
		<div class="panel-body" style="overflow: auto;"> <span>{{thread.message}}
				
			<div class="pull-right" >
			<a class="btn btn-primary" data-ng-show="((authentication.user) && (authentication.user._id == thread.user._id))" href="/#!/threads/{{thread._id}}/edit">
				<i class="glyphicon glyphicon-edit"></i>
			</a>
			<a class="btn btn-primary" data-ng-show="((authentication.user) && (authentication.user._id == thread.user._id))" data-ng-click="remove(post);">
				<i class="glyphicon glyphicon-trash"></i>
			</a>
			<a class="btn btn-primary" href="/#!/threads/{{thread._id}}/add">
				<i class="glyphicon glyphicon-pencil"></i>
			</a>
			</div>
			</span>
			<br>
				<small>
					<em class="text-muted">
						Posted on
						<span data-ng-bind="thread.created | date:'mediumDate'"></span>
						by
						<span><a class='userprofilelink' href='/#!/user-profile'>{{thread.user.displayName}}</a></span>
					</em>
				</small>
		</div>

	</div>

</section>
<section data-ng-controller="PostsController" data-ng-init="findOne2()">

	<div class='list-items'>
        <div data-ng-repeat="post in posts"  class="table">
			<small class="list-group-item-text">
				Posted on
				<span data-ng-bind="post.created | date:'medium'"></span>
				by
				<span data-ng-bind="post.user.displayName"></span>
			</small>
			
			<h4 class="list-group-item-heading" data-ng-bind="post.name"></h4>
			<div class="pull-right" data-ng-show="((authentication.user) && (authentication.user._id == post.user._id))">
				<a class="btn btn-primary" href="/#!/posts/{{post._id}}/edit">
					<i class="glyphicon glyphicon-edit"></i>
				</a>
				<a class="btn btn-primary" data-ng-click="remove(post);">
					<i class="glyphicon glyphicon-trash"></i>
				</a>
			</div>
			
        </div>
		</div>

    <div class="alert alert-warning text-center" data-ng-hide="!posts.$resolved || posts.length">
    	No Posts yet, why don't you <a href="/#!/posts/create">create one</a>?
    </div>
</section>
